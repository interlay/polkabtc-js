[@interlay/interbtc](/README.md) / [Exports](/modules.md) / ReplaceAPI

# Interface: ReplaceAPI

## Hierarchy

- [`TransactionAPI`](/interfaces/transactionapi.md)

  ↳ **`ReplaceAPI`**

## Implemented by

- [`DefaultReplaceAPI`](/classes/defaultreplaceapi.md)

## Table of contents

### Methods

- [accept](/interfaces/replaceapi.md#accept)
- [execute](/interfaces/replaceapi.md#execute)
- [getAccount](/interfaces/replaceapi.md#getaccount)
- [getDustValue](/interfaces/replaceapi.md#getdustvalue)
- [getGriefingCollateral](/interfaces/replaceapi.md#getgriefingcollateral)
- [getReplacePeriod](/interfaces/replaceapi.md#getreplaceperiod)
- [list](/interfaces/replaceapi.md#list)
- [map](/interfaces/replaceapi.md#map)
- [request](/interfaces/replaceapi.md#request)
- [sendLogged](/interfaces/replaceapi.md#sendlogged)
- [setAccount](/interfaces/replaceapi.md#setaccount)
- [withdraw](/interfaces/replaceapi.md#withdraw)

## Methods

### accept

▸ **accept**(`oldVault`, `amountSat`, `collateral`, `btcAddress`): `Promise`<`void`\>

Accept a replace request

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `oldVault` | `AccountId` | ID of the old vault that to be (possibly partially) replaced |
| `amountSat` | `BTCAmount` | - |
| `collateral` | `PolkadotAmount` | The collateral for replacement |
| `btcAddress` | `string` | The address that old-vault should transfer the btc to |

#### Returns

`Promise`<`void`\>

#### Defined in

[src/parachain/replace.ts:76](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L76)

___

### execute

▸ **execute**(`replaceId`, `btcTxId?`, `merkleProof?`, `rawTx?`): `Promise`<`void`\>

Execute a replace request

**`remarks`** If `txId` is not set, the `merkleProof` and `rawTx` must both be set.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `replaceId` | `string` | The ID generated by the replace request transaction |
| `btcTxId?` | `string` | - |
| `merkleProof?` | `Bytes` | (Optional) The merkle inclusion proof of the Bitcoin transaction. |
| `rawTx?` | `Bytes` | (Optional) The raw bytes of the Bitcoin transaction |

#### Returns

`Promise`<`void`\>

#### Defined in

[src/parachain/replace.ts:86](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L86)

___

### getAccount

▸ **getAccount**(): `undefined` \| `AddressOrPair`

#### Returns

`undefined` \| `AddressOrPair`

#### Inherited from

[TransactionAPI](/interfaces/transactionapi.md).[getAccount](/interfaces/transactionapi.md#getaccount)

#### Defined in

[src/parachain/transaction.ts:12](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/transaction.ts#L12)

___

### getDustValue

▸ **getDustValue**(): `Promise`<`BTCAmount`\>

#### Returns

`Promise`<`BTCAmount`\>

The minimum amount of btc that is accepted for replace requests; any lower values would
risk the bitcoin client to reject the payment

#### Defined in

[src/parachain/replace.ts:43](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L43)

___

### getGriefingCollateral

▸ **getGriefingCollateral**<`C`\>(`amount`, `collateralCurrency`): `Promise`<`MonetaryAmount`<`Currency`<`C`\>, `C`\>\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `C` | extends [`CollateralUnit`](/modules.md#collateralunit) |

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `amount` | `BTCAmount` | The amount of wrapped tokens to request replacement for. |
| `collateralCurrency` | `Currency`<`C`\> | The collateral, as a currency object (using `Monetary.js`) |

#### Returns

`Promise`<`MonetaryAmount`<`Currency`<`C`\>, `C`\>\>

The griefing collateral

#### Defined in

[src/parachain/replace.ts:93](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L93)

___

### getReplacePeriod

▸ **getReplacePeriod**(): `Promise`<`BlockNumber`\>

#### Returns

`Promise`<`BlockNumber`\>

The time difference in number of blocks between when a replace request is created
and required completion time by a vault. The replace period has an upper limit
to prevent griefing of vault collateral.

#### Defined in

[src/parachain/replace.ts:49](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L49)

___

### list

▸ **list**(): `Promise`<[`ReplaceRequestExt`](/interfaces/replacerequestext.md)[]\>

#### Returns

`Promise`<[`ReplaceRequestExt`](/interfaces/replacerequestext.md)[]\>

An array containing the replace requests

#### Defined in

[src/parachain/replace.ts:53](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L53)

___

### map

▸ **map**(): `Promise`<`Map`<`H256`, [`ReplaceRequestExt`](/interfaces/replacerequestext.md)\>\>

#### Returns

`Promise`<`Map`<`H256`, [`ReplaceRequestExt`](/interfaces/replacerequestext.md)\>\>

A mapping from the replace request ID to the replace request object

#### Defined in

[src/parachain/replace.ts:57](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L57)

___

### request

▸ **request**(`amount`): `Promise`<`string`\>

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `amount` | `BTCAmount` | Amount issued, denoted in Bitcoin, to have replaced by another vault |

#### Returns

`Promise`<`string`\>

The request id

#### Defined in

[src/parachain/replace.ts:62](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L62)

___

### sendLogged

▸ **sendLogged**<`T`\>(`transaction`, `successEventType?`): `Promise`<`ISubmittableResult`\>

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `Codec`[] |

#### Parameters

| Name | Type |
| :------ | :------ |
| `transaction` | `SubmittableExtrinsic`<``"promise"``, `ISubmittableResult`\> |
| `successEventType?` | `AugmentedEvent`<`ApiTypes`, `T`\> |

#### Returns

`Promise`<`ISubmittableResult`\>

#### Inherited from

[TransactionAPI](/interfaces/transactionapi.md).[sendLogged](/interfaces/transactionapi.md#sendlogged)

#### Defined in

[src/parachain/transaction.ts:13](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/transaction.ts#L13)

___

### setAccount

▸ **setAccount**(`account`): `void`

#### Parameters

| Name | Type |
| :------ | :------ |
| `account` | `AddressOrPair` |

#### Returns

`void`

#### Inherited from

[TransactionAPI](/interfaces/transactionapi.md).[setAccount](/interfaces/transactionapi.md#setaccount)

#### Defined in

[src/parachain/transaction.ts:11](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/transaction.ts#L11)

___

### withdraw

▸ **withdraw**(`amount`): `Promise`<`void`\>

Wihdraw a replace request

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `amount` | `BTCAmount` | The amount of wrapped tokens to withdraw from the amount requested to have replaced. |

#### Returns

`Promise`<`void`\>

#### Defined in

[src/parachain/replace.ts:68](https://github.com/interlay/interbtc-js/blob/0c8155e/src/parachain/replace.ts#L68)
